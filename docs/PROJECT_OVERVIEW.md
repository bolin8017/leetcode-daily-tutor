# ğŸ“Š å°ˆæ¡ˆç¸½è¦½

æœ¬æ–‡ä»¶æä¾› LeetCode Daily AI Tutor å°ˆæ¡ˆçš„å®Œæ•´æŠ€è¡“æ¦‚è¦½ã€‚

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GitHub Actions (Scheduler)               â”‚
â”‚                    æ¯å¤© UTC 01:00 è§¸ç™¼åŸ·è¡Œ                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      main.py (Orchestrator)                  â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚                  â”‚  LeetCodeDailyTutor     â”‚                â”‚
â”‚                  â”‚  - select_problem()     â”‚                â”‚
â”‚                  â”‚  - process_problem()    â”‚                â”‚
â”‚                  â”‚  - run()                â”‚                â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚          â”‚           â”‚          â”‚          â”‚
       â–¼          â–¼           â–¼          â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LeetCode â”‚ â”‚ Sheets  â”‚ â”‚ Gemini â”‚ â”‚Telegramâ”‚ â”‚ Logger  â”‚
â”‚ Service  â”‚ â”‚ Service â”‚ â”‚Service â”‚ â”‚Service â”‚ â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚            â”‚          â”‚
     â–¼            â–¼            â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚LeetCode â”‚ â”‚  Google  â”‚ â”‚ Gemini â”‚ â”‚ Telegram â”‚
â”‚ Rating  â”‚ â”‚  Sheets  â”‚ â”‚   API  â”‚ â”‚   Bot    â”‚
â”‚   API   â”‚ â”‚          â”‚ â”‚        â”‚ â”‚   API    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ æ¨¡çµ„æ¶æ§‹

### æ ¸å¿ƒå±¤

```
main.py (Entry Point)
â”œâ”€â”€ LeetCodeDailyTutor (ä¸»æ§åˆ¶å™¨)
â”‚   â”œâ”€â”€ __init__() - åˆå§‹åŒ–æ‰€æœ‰æœå‹™
â”‚   â”œâ”€â”€ select_problem() - é¸æ“‡é¡Œç›®é‚è¼¯
â”‚   â”œâ”€â”€ process_problem() - è™•ç†é¡Œç›®æµç¨‹
â”‚   â””â”€â”€ run() - ä¸»åŸ·è¡Œæµç¨‹
```

### é…ç½®å±¤

```
src/config.py
â”œâ”€â”€ Config (é…ç½®é¡åˆ¥)
â”‚   â”œâ”€â”€ å¸¸æ•¸å®šç¾© (URL, å®¹å·®å€¼ç­‰)
â”‚   â”œâ”€â”€ load_env_vars() - è¼‰å…¥ç’°å¢ƒè®Šæ•¸
â”‚   â”œâ”€â”€ validate() - é©—è­‰é…ç½®
â”‚   â””â”€â”€ _get_env_var() - å®‰å…¨å–å¾—ç’°å¢ƒè®Šæ•¸
```

### æœå‹™å±¤

```
src/services/
â”œâ”€â”€ leetcode.py (LeetCode æœå‹™)
â”‚   â”œâ”€â”€ fetch_problem_ratings() - æŠ“å–é¡Œç›®è©•åˆ†
â”‚   â”œâ”€â”€ filter_by_rating() - æŒ‰é›£åº¦ç¯©é¸
â”‚   â”œâ”€â”€ exclude_solved() - æ’é™¤å·²è§£é¡Œç›®
â”‚   â”œâ”€â”€ get_problem_url() - ç”Ÿæˆé¡Œç›®é€£çµ
â”‚   â””â”€â”€ format_problem_info() - æ ¼å¼åŒ–é¡Œç›®è³‡è¨Š
â”‚
â”œâ”€â”€ sheets.py (Google Sheets æœå‹™)
â”‚   â”œâ”€â”€ _connect() - é€£æ¥è©¦ç®—è¡¨
â”‚   â”œâ”€â”€ get_target_rating() - è®€å–ç›®æ¨™é›£åº¦
â”‚   â”œâ”€â”€ get_history_ids() - è®€å–æ­·å²ç´€éŒ„
â”‚   â”œâ”€â”€ add_to_history() - æ–°å¢æ­·å²ç´€éŒ„
â”‚   â””â”€â”€ initialize_sheets() - åˆå§‹åŒ–å·¥ä½œè¡¨
â”‚
â”œâ”€â”€ gemini.py (Gemini AI æœå‹™)
â”‚   â”œâ”€â”€ SOLUTION_PROMPT - è§£æ³•ç”Ÿæˆæ¨¡æ¿
â”‚   â”œâ”€â”€ _configure_api() - é…ç½® API
â”‚   â”œâ”€â”€ generate_solution() - ç”Ÿæˆè§£æ³•
â”‚   â”œâ”€â”€ _get_fallback_message() - éŒ¯èª¤æ™‚å‚™ç”¨è¨Šæ¯
â”‚   â””â”€â”€ test_connection() - æ¸¬è©¦é€£ç·š
â”‚
â””â”€â”€ telegram.py (Telegram æœå‹™)
    â”œâ”€â”€ send_message() - ç™¼é€è¨Šæ¯
    â”œâ”€â”€ format_daily_message() - æ ¼å¼åŒ–æ¯æ—¥è¨Šæ¯
    â””â”€â”€ test_connection() - æ¸¬è©¦ Bot é€£ç·š
```

### å·¥å…·å±¤

```
src/utils/
â””â”€â”€ logger.py (æ—¥èªŒç³»çµ±)
    â”œâ”€â”€ ColoredFormatter - å½©è‰²æ—¥èªŒæ ¼å¼åŒ–
    â”œâ”€â”€ setup_logger() - è¨­å®šæ—¥èªŒ
    â””â”€â”€ logger (å…¨åŸŸå¯¦ä¾‹)
```

---

## ğŸ”„ åŸ·è¡Œæµç¨‹

### ä¸»è¦æµç¨‹åœ–

```
é–‹å§‹
  â”‚
  â–¼
åˆå§‹åŒ–æœå‹™
  â”œâ”€â”€ LeetCodeService
  â”œâ”€â”€ SheetsService
  â”œâ”€â”€ GeminiService
  â””â”€â”€ TelegramService
  â”‚
  â–¼
æŠ“å– LeetCode é¡Œç›®è©•åˆ†
  â”‚
  â–¼
å¾ Google Sheets è®€å–
  â”œâ”€â”€ Target Rating
  â””â”€â”€ å·²æ¨é€é¡Œç›® ID
  â”‚
  â–¼
ç¯©é¸ç¬¦åˆæ¢ä»¶çš„é¡Œç›®
  â”œâ”€â”€ Rating Â± 50 ç¯„åœå…§
  â””â”€â”€ æ’é™¤å·²æ¨é€é¡Œç›®
  â”‚
  â–¼
éš¨æ©Ÿé¸æ“‡ä¸€é¡Œ
  â”‚
  â–¼
å‘¼å« Gemini API ç”Ÿæˆè§£æ³•
  â”‚
  â–¼
æ ¼å¼åŒ– Telegram è¨Šæ¯
  â”‚
  â–¼
ç™¼é€åˆ° Telegram
  â”‚
  â–¼
è¨˜éŒ„åˆ° Google Sheets History
  â”‚
  â–¼
çµæŸ
```

### éŒ¯èª¤è™•ç†æµç¨‹

```
ä»»ä½•æ­¥é©Ÿç™¼ç”ŸéŒ¯èª¤
  â”‚
  â–¼
Logger è¨˜éŒ„éŒ¯èª¤
  â”‚
  â–¼
åˆ¤æ–·éŒ¯èª¤é¡å‹
  â”‚
  â”œâ”€â”€ é€£ç·šéŒ¯èª¤ â†’ é‡è©¦æ©Ÿåˆ¶
  â”œâ”€â”€ API éŒ¯èª¤ â†’ Fallback è¨Šæ¯
  â””â”€â”€ è³‡æ–™éŒ¯èª¤ â†’ è·³éä¸¦è¨˜éŒ„
  â”‚
  â–¼
å›å‚³éŒ¯èª¤ç‹€æ…‹
  â”‚
  â–¼
çµæŸï¼ˆExit Code 1ï¼‰
```

---

## ğŸ’¾ è³‡æ–™æµ

### 1. è®€å–æµ

```
LeetCode Rating API
  â†“ (fetch_problem_ratings)
Python List[Dict]
  â†“ (filter_by_rating)
Filtered Problems
  â†“ (exclude_solved)
Candidate Problems
  â†“ (random.choice)
Selected Problem
```

### 2. è™•ç†æµ

```
Selected Problem
  â†“ (format_problem_info)
Problem Info Dict
  â†“ (generate_solution)
AI Solution Text
  â†“ (format_daily_message)
Telegram Message
  â†“ (send_message)
Telegram API
```

### 3. å„²å­˜æµ

```
Selected Problem ID
  â†“ (add_to_history)
Google Sheets History
  â†“
æ°¸ä¹…è¨˜éŒ„
```

---

## ğŸ” å®‰å…¨æ€§è¨­è¨ˆ

### ç’°å¢ƒè®Šæ•¸éš”é›¢

```
GitHub Secrets
  â†“ (ç’°å¢ƒè®Šæ•¸æ³¨å…¥)
Runtime Environment
  â†“ (config.py é©—è­‰)
Application
```

### API é‡‘é‘°ç®¡ç†

- âœ… æ‰€æœ‰é‡‘é‘°å­˜æ”¾åœ¨ GitHub Secrets
- âœ… ä¸åœ¨ç¨‹å¼ç¢¼ä¸­ç¡¬ç·¨ç¢¼
- âœ… å•Ÿå‹•æ™‚é©—è­‰é‡‘é‘°å­˜åœ¨æ€§
- âœ… JSON é‡‘é‘°ä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶

### æ¬Šé™æ§åˆ¶

- Google Service Account: åƒ…éœ€è©¦ç®—è¡¨ç·¨è¼¯æ¬Šé™
- Telegram Bot: åƒ…éœ€ç™¼é€è¨Šæ¯æ¬Šé™
- Gemini API: å”¯è®€ API å‘¼å«

---

## ğŸ“ˆ å¯æ“´å±•æ€§

### æ©«å‘æ“´å±•

å¯è¼•é¬†æ–°å¢å…¶ä»–æœå‹™æ¨¡çµ„ï¼š

```python
# src/services/discord.py
class DiscordService:
    def send_message(self, text: str) -> bool:
        # å¯¦ä½œ Discord Webhook
        pass

# main.py ä¸­æ•´åˆ
self.discord = DiscordService()
self.discord.send_message(message)
```

### ç¸±å‘æ“´å±•

å¯å¢åŠ æ›´å¤šåŠŸèƒ½ï¼š

```python
# é¡Œç›®åˆ†é¡
def classify_problem(self, problem: Dict) -> str:
    # ä½¿ç”¨ AI åˆ†é¡é¡Œç›®é¡å‹
    return "Dynamic Programming"

# å­¸ç¿’çµ±è¨ˆ
def track_progress(self, user_id: str):
    # è¿½è¹¤ä½¿ç”¨è€…å­¸ç¿’é€²åº¦
    pass
```

---

## ğŸ§ª æ¸¬è©¦ç­–ç•¥

### å–®å…ƒæ¸¬è©¦ï¼ˆå»ºè­°å¯¦ä½œï¼‰

```python
# tests/test_leetcode_service.py
def test_filter_by_rating():
    service = LeetCodeService()
    problems = [{"Rating": 1500}, {"Rating": 1600}]
    filtered = service.filter_by_rating(problems, 1550, 50)
    assert len(filtered) == 1
```

### æ•´åˆæ¸¬è©¦

ä½¿ç”¨ `scripts/test_connection.py` æ¸¬è©¦ï¼š
- Google Sheets é€£ç·š
- Gemini API å‘¼å«
- Telegram Bot ç™¼é€

### æ‰‹å‹•æ¸¬è©¦

```bash
# æœ¬æ©Ÿå®Œæ•´æ¸¬è©¦
python main.py

# æ¸¬è©¦é€£ç·š
python scripts/test_connection.py

# åˆå§‹åŒ– Sheets
python scripts/setup_sheets.py
```

---

## ğŸ“Š æ•ˆèƒ½æŒ‡æ¨™

### åŸ·è¡Œæ™‚é–“

| éšæ®µ | é ä¼°æ™‚é–“ |
|------|---------|
| åˆå§‹åŒ–æœå‹™ | < 1 ç§’ |
| æŠ“å–é¡Œç›®è©•åˆ† | 2-5 ç§’ |
| è®€å– Sheets | 1-2 ç§’ |
| Gemini ç”Ÿæˆ | 5-15 ç§’ |
| Telegram ç™¼é€ | 1-2 ç§’ |
| **ç¸½è¨ˆ** | **~15-30 ç§’** |

### è³‡æºä½¿ç”¨

- **è¨˜æ†¶é«”**: < 100 MB
- **CPU**: å–®æ ¸ï¼Œä½è² è¼‰
- **ç¶²è·¯**: < 1 MB å‚³è¼¸é‡

### API é…é¡

| æœå‹™ | å…è²»é¡åº¦ | å°ˆæ¡ˆä½¿ç”¨ | é¤˜è£• |
|------|---------|---------|------|
| Gemini | 1500/å¤© | 1/å¤© | 1499 |
| Sheets | ç„¡é™åˆ¶ | 2-3 è«‹æ±‚/å¤© | âˆ |
| Telegram | ç„¡é™åˆ¶ | 1 è«‹æ±‚/å¤© | âˆ |

---

## ğŸ”§ ç¶­è­·æŒ‡å—

### æ—¥å¸¸ç¶­è­·

- âœ… **ç„¡éœ€ç¶­è­·** - å…¨è‡ªå‹•åŸ·è¡Œ
- âœ… å¯é¸ï¼šå®šæœŸæ¸…ç† Historyï¼ˆé¿å…éå¤§ï¼‰

### ç‰ˆæœ¬æ›´æ–°

```bash
# æ›´æ–°ä¾è³´
pip install --upgrade -r requirements.txt

# æª¢æŸ¥ API è®Šæ›´
# - LeetCode Rating API
# - Gemini API ç‰ˆæœ¬
# - Telegram Bot API
```

### ç›£æ§å»ºè­°

GitHub Actions åŸ·è¡Œç‹€æ…‹ï¼š
- âœ… ç¶ å‹¾ï¼šæˆåŠŸ
- âŒ ç´…å‰ï¼šå¤±æ•—ï¼ˆæŸ¥çœ‹ logsï¼‰
- ğŸŸ¡ é»ƒé»ï¼šåŸ·è¡Œä¸­

---

## ğŸ“š ä¾è³´é …ç›®

### Python å¥—ä»¶

| å¥—ä»¶ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| `requests` | 2.31+ | HTTP è«‹æ±‚ |
| `gspread` | 5.12+ | Google Sheets API |
| `google-auth` | 2.23+ | Google èªè­‰ |
| `google-generativeai` | 0.3+ | Gemini API |

### å¤–éƒ¨æœå‹™

| æœå‹™ | è²»ç”¨ | SLA |
|------|------|-----|
| GitHub Actions | å…è²» | 99.9% |
| Google Sheets | å…è²» | 99.9% |
| Gemini API | å…è²» | - |
| Telegram Bot | å…è²» | 99.9% |

---

## ğŸ¯ è¨­è¨ˆåŸå‰‡

### SOLID åŸå‰‡

- **å–®ä¸€è·è²¬**: æ¯å€‹æœå‹™é¡åˆ¥åªè² è²¬ä¸€é …åŠŸèƒ½
- **é–‹æ”¾å°é–‰**: æ˜“æ–¼æ“´å±•ï¼Œç„¡éœ€ä¿®æ”¹æ ¸å¿ƒ
- **ä¾è³´åè½‰**: ä½¿ç”¨æŠ½è±¡ä»‹é¢ï¼Œä¸ä¾è³´å…·é«”å¯¦ä½œ

### å…¶ä»–åŸå‰‡

- **DRY**: ä¸é‡è¤‡ç¨‹å¼ç¢¼
- **KISS**: ä¿æŒç°¡å–®
- **é—œæ³¨é»åˆ†é›¢**: æ¸…æ¥šçš„æ¨¡çµ„é‚Šç•Œ
- **é…ç½®å¤–éƒ¨åŒ–**: ç’°å¢ƒè®Šæ•¸ç®¡ç†

---

## ğŸš€ æœªä¾†è¦åŠƒ

### Phase 2 åŠŸèƒ½

- [ ] å¤šèªè¨€è§£æ³•ï¼ˆPythonã€Javaã€JavaScriptï¼‰
- [ ] Web Dashboard ç®¡ç†ä»‹é¢
- [ ] å­¸ç¿’é€²åº¦å¯è¦–åŒ–
- [ ] é¡Œç›®é›£åº¦å‹•æ…‹èª¿æ•´

### Phase 3 åŠŸèƒ½

- [ ] Discord æ•´åˆ
- [ ] é€±ç¸½çµå ±å‘Š
- [ ] è‡ªè¨‚ Prompt æ¨¡æ¿åº«
- [ ] é¡Œç›®æ¨™ç±¤åˆ†é¡ï¼ˆDPã€Graphã€Treeï¼‰

---

## ğŸ“– ç›¸é—œæ–‡æª”

- [README.md](../README.md) - å°ˆæ¡ˆä»‹ç´¹
- [SETUP_GUIDE.md](SETUP_GUIDE.md) - è©³ç´°è¨­å®šæŒ‡å—
- [QUICKSTART.md](../QUICKSTART.md) - å¿«é€Ÿé–‹å§‹
- [CONTRIBUTING.md](../CONTRIBUTING.md) - è²¢ç»æŒ‡å—

---

**æœ€å¾Œæ›´æ–°**: 2025-12-24
